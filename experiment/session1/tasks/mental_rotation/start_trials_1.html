<!doctype html>
<html lang="en" data-theme="light">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="../../common/css/main.css">
        <link rel="stylesheet" href="css/mentalrotation.css">
        <script src="../../common/js/webexp.js"></script>
		<title>Experiment</title>
    </head>

    <body class="fit_with_scroll">
        <div class="container fit_mental_rotation">
            <article class="top_bot_pad_1em main_card">
                <header class="header_section">
                    <h3>Mental Rotations - Start</h3>
				</header>

                <div>
                    <p>
                        Well done, you completed the training tasks!
                    </p>
                    <p>
                        The actual tasks are divided into two blocks.
                        You have <b>3 minutes</b> for each of the blocks.
                        Each block consists of 10 tasks.
                    </p>
                    <p>
                        Try to work as fast and accurate as possible.
                        After the first block, you will be able to take a break.
                    </p>
                    <p>
                        Remember that there are always <b>two correct answers</b> to each task.
						To avoid accidentally forgetting to select a second answer, you have to select two answers in order to continue.
                    </p>

                    <p>
                        Once you are ready, click on the <i>Start</i> button below.
                    </p>

                </div>

                <footer class="footer_section">
                    <div class="continue_btn_div">
                        <button id="start_btn" aria-busy="false">Start</button>
                    </div>
                </footer>
            </article>
        </div>

        
        <script>
            var startBtn = document.getElementById("start_btn");
            startBtn.addEventListener("click", async function() {
                startBtn.disabled = false;
                startBtn.setAttribute("aria-busy", "true");
                let personId = sessionStorage.getItem("personId");

                // Always save the ID and the page too
                // while redundant, it cant help to show problems when saving
                let payload = {
                    "id": personId,
                    "page" : "mental_rotation_start",
                    "page_time" : Date.now() - pageStartTime
                }
                let success = await writeData(payload);
                if(success) {
                    changePage("tasks_1.html");
                }
                else {
                    alert("Could not save data. Please contact us for assistance.")
                }
            });
        </script>
    </body>
</html>
